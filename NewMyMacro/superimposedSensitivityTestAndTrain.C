#include <TH1D.h>#include <TStyle.h>#include <TCanvas.h>#include "TLorentzVector.h"#include <iomanip>#include <stdio.h>#include <string.h>#include <stdlib.h>#include "TFile.h"#include "TROOT.h"#include <TLatex.h>using namespace std;void SetStyle (TGraph * gr, float x) {        float axisTitleSize=0.05*x;    gr->GetYaxis()->SetTitleSize(axisTitleSize);    gr->GetXaxis()->SetTitleSize(axisTitleSize);        float axisTitleOffset=0.8/x;    gr->GetYaxis()->SetTitleOffset(axisTitleOffset);//     histo->GetXaxis()->SetTitleOffset(axisTitleOffset);            float axisLabelSize=0.05*x;    gr->GetYaxis()->SetLabelSize(axisLabelSize);    gr->GetXaxis()->SetLabelSize(axisLabelSize);    //     float axisLabelOffset=0.05;//     histo->GetYaxis()->SetLabelOffset(axisLabelOffset);//     histo->GetXaxis()->SetLabelOffset(axisLabelOffset);}void setColorAndStyle(TGraph *gr1, TGraph *gr2, int color, std::string Title, std::string yAxis, float x) {        gr1->SetMarkerStyle(1);    gr2->SetMarkerStyle(1);    gr1->SetLineColor(color);    gr2->SetLineColor(color+2);        //     gr_train->SetLineStyle(2);        gr1->SetTitle(Title.c_str());    gr2->SetTitle(Title.c_str());        gr1->GetYaxis()->SetTitle(yAxis.c_str());    gr2->GetYaxis()->SetTitle(yAxis.c_str());            SetStyle(gr1, x);    SetStyle(gr2, x);    }TLegend * makeLegend(float Xbottom, float Ybottom, float Xtop, float Ytop, float textSize) {       TLegend *leg = new TLegend(Xbottom,Ybottom,Xtop,Ytop);        leg->SetBorderSize(0);    leg->SetFillColor(0);    leg->SetFillStyle(0);    leg->SetTextFont(42);    leg->SetTextSize(textSize);    leg->SetBorderSize(0);                  // without border    leg->SetFillColorAlpha(1,0);          return leg;    }void superimposedSensitivityTestAndTrain(){            int variables_in_nomore = 6;    int eventUsed_int = 5; //     eventUsed = 10;            std::string nTreees_forLegend = "100";    std::string maxDepth_forLegend = "2";            std::string eventUsed = "_"+std::to_string(eventUsed_int)+"ev";      std::string n_To_m = "_"+std::to_string(variables_in_nomore)+"To"+std::to_string(variables_in_nomore+1);            std::string fileName = "Sensitivity" + n_To_m + eventUsed + ".png";        std::string path = "/scratch/mandorli/Hmumu/training/CMSSW_8_0_28/src/training/NewMyMacro/figure/efficiency_figure/";    TFile * file1 = new TFile((path+"totSensDir/totalSensitivity" + n_To_m + eventUsed + ".root").c_str());    TFile * file1_train = new TFile((path+"totSensDir/totalSensitivity_train" + n_To_m + eventUsed + ".root").c_str());    TGraphErrors *gr1= (TGraphErrors *) file1->Get("Graph");    TGraphErrors *gr1_train= (TGraphErrors *) file1_train->Get("Graph");    setColorAndStyle(gr1, gr1_train,  2, "ll_mass, Mqq, RptHard, ll_zstar, softActivityEWK_njets10, ll_pt", "Sensitivity", 1.2);    gr1->GetXaxis()->SetLabelSize(0);    gr1->GetXaxis()->SetTitleSize(0);    gr1_train->GetXaxis()->SetLabelSize(0);    gr1_train->GetXaxis()->SetTitleSize(0);        gr1_train->SetLineStyle(2);            TCanvas *canv=new TCanvas("canv", "canv", 1200, 600);    canv->cd();                gr1->GetYaxis()->SetRangeUser(0.6,1.2);    gr1_train->GetYaxis()->SetRangeUser(0.6,1.2);        TPad * pad1 = new TPad("pad1", "",0, 0.30, 1, 1.0);    pad1->SetFillStyle(4000);    pad1->SetTickx(1);    pad1->SetTicky(1);    pad1->SetBottomMargin(0.05);    // pad1->SetLeftMargin(0.1);    // pad1->SetRightMargin(0.2);    pad1->SetTopMargin(0.1);    pad1->Draw();    pad1->cd();        float Xbottom = 0.35;    float Ybottom = 0.7;    float Xtop = 0.85;    float Ytop = 0.89;    TLegend *leg = makeLegend(Xbottom, Ybottom, Xtop, Ytop, 0.04);                                    gr1->Draw();    gr1_train->Draw("same");            leg->AddEntry(gr1, (std::to_string(variables_in_nomore)+" -> "+std::to_string(variables_in_nomore+1)+" test  NoDecorrelation  "+nTreees_forLegend+" Treees, MinNodeSize = 0.05, maxDepth= "+maxDepth_forLegend).c_str(),"l");    leg->AddEntry(gr1_train, (std::to_string(variables_in_nomore)+" -> "+std::to_string(variables_in_nomore+1)+" train  NoDecorrelation "+nTreees_forLegend+" Treees, MinNodeSize = 0.05, maxDepth = "+maxDepth_forLegend).c_str(),"l");                                 leg->Draw();                canv->cd();    TPad * pad2 = new TPad("pad2", "",0, 0.01, 1, 0.28);    pad2->SetFillStyle(4000);    pad2->SetTickx(1);    pad2->SetTicky(1);    pad2->SetBottomMargin(0.16);    // pad2->SetLeftMargin(0.1);    // pad2->SetRightMargin(0.2);    pad2->SetTopMargin(0.);    pad2->Draw();    pad2->cd();                TFile * file_KS_S = new TFile((path+"Chi2_and_KS_prob/KS_signal.root").c_str());    TFile * file_KS_B = new TFile((path+"Chi2_and_KS_prob/KS_background.root").c_str());        TGraph *gr_KS_S= (TGraph *) file_KS_S->Get("Graph");    TGraph *gr_KS_B= (TGraph *) file_KS_B->Get("Graph");            float Xbottom_KS = 0.10;    float Ybottom_KS = 0.15;    float Xtop_KS = 0.35;    float Ytop_KS = 0.35;    TLegend *leg_KS = makeLegend(Xbottom_KS, Ybottom_KS, Xtop_KS, Ytop_KS, 0.08);             setColorAndStyle(gr_KS_S, gr_KS_B,  7, "", "KS", 2.5);    gr_KS_S->GetYaxis()->SetRangeUser(0.9,1.01);    gr_KS_S->Draw();    gr_KS_B->Draw("same");        leg_KS->AddEntry(gr_KS_S,"KS signal","l");    leg_KS->AddEntry(gr_KS_B,"KS background","l");            leg_KS->Draw();            canv->Print(("figure/"+fileName).c_str());}